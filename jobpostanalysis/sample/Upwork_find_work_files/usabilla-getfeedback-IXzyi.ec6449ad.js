(window.webpackJsonp=window.webpackJsonp||[]).push([[647],{1179:function(e){e.exports=JSON.parse("{}")},1180:function(e){e.exports=JSON.parse('{"surv_Feedback_1":"Feedback","surv_InOrderForUsToCollectYourFeedbackWeNeedY_2":"In order for us to collect your feedback we need you to disable an ad-block extension for this page.","surv_GotIt_3":"Got it","surv_AdBlockDetectedForFeedback_12":"Ad-block detected for Feedback"}')},1181:function(e){e.exports=JSON.parse("{}")},1182:function(e,t,l){"use strict";l(743)},1183:function(e,t,l){var o=l(5)((function(i){return i[1]}));o.push([e.i,".air3-survey-button.air3-btn{--btn-radius:var(--radius-3x) var(--radius-3x) 0 0;--btn-bg:var(--bg-light);--btn-bg-hover:var(--bg-light);bottom:0;position:fixed;right:0;transform:rotate(-90deg) translateX(200%)!important;transform-origin:bottom right;z-index:calc(var(--zindex-navbar) - 1)}@media (max-width:699.98px){.air3-survey-button.air3-btn{padding-left:calc(var(--btn-padding-x)/1.3);padding-right:calc(var(--btn-padding-x)/1.3);transform:rotate(-90deg) translateX(150%);z-index:calc(var(--zindex-fullscreen) - 1)}}.slide-enter-active,.slide-leave-active{transition:right .2s ease-in}.slide-enter,.slide-leave-to{right:-80px}",""]),o.locals={},e.exports=o},2225:function(e,t,l){"use strict";l.r(t);var o=l(317),n=l.n(o),r=l(320),d=l(332);let c;var h={"en-gb":l(1179),en:l(1180),is:l(1181)};var m={name:"UpUsabillaGetfeedback",components:{UpCModalV2:r.default,UpCModalBody:d.default},i18n:{messages:h},props:{buttonId:{type:String,default:"202452b9c34b"},customVariables:{required:!0,validator:e=>!!e&&("object"==typeof e&&!Array.isArray(e)&&Object.keys(e).length>0)},triggerCampaign:{type:String,default:void 0},initWithPassiveFeedback:{type:Boolean,default:!1},hideButton:{type:Boolean,default:!1},isTestMode:{type:Boolean,default:!1},cookieName:{type:String,default:""},cookieDaysToExpire:{type:Number,default:30},isDevMode:{type:Boolean,default:!1},resetCampaignLocalStorageOnClose:{type:Boolean,default:!1},cbArgs:{type:Array,default:()=>[]},campaignOpenCb:{type:Function,default:()=>{}},campaignSuccessCb:{type:Function,default:()=>{}},campaignCloseCb:{type:Function,default:()=>{}},campaignPageSwitchCb:{type:Function,default:()=>{}},loadUsabillaScript:{type:Boolean,default:!1}},emits:["click","usabilla-load-success","usabilla-load-fail"],data(){return{usabilla(){},isNativeApp:(c||(c="undefined"!=typeof navigator?navigator.userAgent:""),/Upwork (Android|iOS)/.test(e||c)),isButtonDisabled:!1,checkFrameCounter:20,checkFrameInterval:200,isUsabillaLoaded:!1,isUsabillaLoading:!1,customVariablesClone:this.getFilteredObject(this.customVariables),unsubscribe:null};var e},computed:{isButtonEnabled(){return!this.isNativeApp&&!this.isButtonDisabled&&(this.isUsabillaLoaded||this.initWithPassiveFeedback)},localStorageKeys:()=>"object"!=typeof localStorage?[]:Object.keys(localStorage).filter((e=>e.startsWith("usbl"))),localStorageCampaigns:()=>"object"!=typeof localStorage?[]:Object.fromEntries(Object.entries(localStorage).filter((e=>{let[t]=e;return t.startsWith("usbl")})))},watch:{customVariables(e){this.customVariablesClone=this.getFilteredObject(e)},triggerCampaign(e){e&&this.isUsabillaLoaded&&this.usabilla("trigger",e)}},async mounted(){var e;this.isNativeApp||(null===(e=this.$el.parentNode)||void 0===e||e.removeChild(this.$el),document.body.appendChild(this.$el),this.getFilteredObject(this.customVariablesClone),this.hideButton&&(this.isButtonDisabled=!0),this.isTestMode?this.isUsabillaLoaded=!0:this.initWithPassiveFeedback||(this.isDevMode&&this.triggerCampaign&&this.clearLocalStorage(),await this.initUsabilla()))},beforeUnmount(){this.unsubscribe&&this.unsubscribe()},unmounted(){var e;null===(e=this.$el.parentNode)||void 0===e||e.removeChild(this.$el)},methods:{async onButtonClick(){if(this.initWithPassiveFeedback&&!this.isUsabillaLoaded)try{this.isUsabillaLoading=!0,await this.initUsabilla(),this.isUsabillaLoading=!1,this.usabilla("click")}catch{this.isButtonDisabled=!0,this.$refs["adblock-modal"].open()}else this.usabilla("click");this.$emit("click",this.customVariablesClone)},async initUsabilla(){var e,t,l;if(this.loadUsabillaScript)return await this.loadGetFeedbackScript(),void this.triggerUsabillaCampaign();null!==(e=this.$store)&&void 0!==e&&e.hasModule("getfeedback")?(await(null===(t=this.$store)||void 0===t?void 0:t.dispatch("getfeedback/load")),"function"==typeof window.usabilla_live?(this.usabilla=window.usabilla_live,this.isUsabillaLoaded=!0,this.unsubscribe=null===(l=this.$store)||void 0===l?void 0:l.subscribe(((e,t)=>{if("getfeedback/setEvent"===e.type){var l;switch(null===(l=t.getfeedback)||void 0===l?void 0:l.event){case"Feedback:Open":this.usabilla("data",{custom:this.getFeedbackCustomData()});break;case"Campaign:Open":this.usabilla("data",{custom:this.getCampaignCustomData()}),this.isDevMode&&this.campaignOpenCb(this.cbArgs);break;case"Campaign:Success":if(this.cookieName&&!this.$cookies.get(this.cookieName)){const e=new Date;e.setDate(e.getDate()+this.cookieDaysToExpire),this.$cookies.set(this.cookieName,"1",{expires:e})}this.isDevMode&&this.campaignSuccessCb(this.cbArgs);break;case"Campaign:Close":this.isDevMode&&this.campaignCloseCb(this.cbArgs);break;case"Campaign:Page Switch":this.isDevMode&&this.campaignPageSwitchCb(this.cbArgs)}}})),this.$emit("usabilla-load-success"),this.triggerUsabillaCampaign()):console.warn("GetFeedback script is not loaded")):console.warn("GetFeedback store module not found")},triggerUsabillaCampaign(){this.isUsabillaLoaded&&this.triggerCampaign&&(this.usabilla("data",{custom:this.getCampaignCustomData()}),this.usabilla("trigger",this.triggerCampaign))},closeModal(){this.$refs["adblock-modal"].close()},loadGetFeedbackScript(){let e,t;const l=new Promise(((l,o)=>{t=l,e=o}));return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t="lightningjs";function l(l,o){var n,r,d,c,h,m;return o&&(o+=(/\?/.test(o)?"&":"?")+"lv=1"),e[l]||(n=window,r=document,d=l,c=r.location.protocol,h="load",m=0,function(){e[d]=function(){var t=arguments,o=this,r=++m,c=o&&o!=n&&o.id||0;function h(){return h.id=r,e[d].apply(h,arguments)}return(l.s=l.s||[]).push([r,c,t]),h.then=function(e,t,o){var n=l.fh[r]=l.fh[r]||[],d=l.eh[r]=l.eh[r]||[],c=l.ph[r]=l.ph[r]||[];return e&&n.push(e),t&&d.push(t),o&&c.push(o),h},h};var l=e[d]._={};function f(){l.P(h),l.w=1,e[d]("_load")}l.fh={},l.eh={},l.ph={},l.l=o?o.replace(/^\/\//,("https:"==c?c:"http:")+"//"):o,l.p={0:+new Date},l.P=function(e){l.p[e]=new Date-l.p[0]},l.w&&f(),n.addEventListener?n.addEventListener(h,f,!1):n.attachEvent("on"+h,f);var v=function(){function e(){return["<head></head><",body,' onload="var d=',_,";d.getElementsByTagName('head')[0].",c,"(d.",h,"('script')).",m,"='",l.l,"'\"></",body,">"].join("")}var body="body",o=r[body];if(!o)return setTimeout(v,100);l.P(1);var n,c="appendChild",h="createElement",m="src",f=r[h]("div"),C=f[c](r[h]("div")),y=r[h]("iframe"),_="document",k="domain",F="contentWindow";f.style.display="none",o.insertBefore(f,o.firstChild).id=t+"-"+d,y.frameBorder="0",y.id=t+"-frame-"+d,/MSIE[ ]+6/.test(navigator.userAgent)&&(y[m]="javascript:false"),y.allowTransparency="true",C[c](y);try{y[F][_].open()}catch(e){l[k]=r[k],n="javascript:var d="+_+".open();d.domain='"+r.domain+"';",y[m]=n+"void(0);"}try{var O=y[F][_];O.write(e()),O.close()}catch(t){y[m]=n+'d.write("'+e().replace(/"/g,String.fromCharCode(92)+'"')+'");d.close();'}l.P(2)};l.l&&v()}()),e[l].lv="1",e[l]}var o=window[t]=l(t);o.require=l,o.modules=e}(),this.usabilla=window.lightningjs.require("usabilla_live","//w.usabilla.com/".concat(this.buttonId,".js")),this.usabilla("setForm","locale_".concat(this.$i18n.locale)),this.usabilla("hide"),this.checkFrameLoaded({resolveCb:t,rejectCb:e}),l},checkFrameLoaded(e){var t;let{resolveCb:l,rejectCb:o}=e;if(this.isUsabillaLoaded)return this.$emit("usabilla-load-success"),void l();if(this.checkFrameCounter<0)return this.$emit("usabilla-load-fail"),void o();const n=document.querySelector("iframe#lightningjs-frame-usabilla_live");this.isUsabillaLoaded=!(null==n||null===(t=n.contentWindow)||void 0===t||!t.usabilla_live),this.checkFrameCounter-=1,setTimeout((()=>{this.checkFrameLoaded({resolveCb:l,rejectCb:o})}),this.checkFrameInterval)},getFilteredObject(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const l={};return Object.keys(e).forEach((o=>{const n=e[o];"string"==typeof n?l[o]=n.slice(0,200):n instanceof Date?l[o]=n.toISOString():this.isObject(n)&&!t?l[o]=this.getFilteredObject(n,!0):Array.isArray(n)&&!t?(l[o]=this.getFilteredArray(n),0===l[o].length&&delete l[o]):(this.isNumber(n)||null===n||"boolean"==typeof n)&&(l[o]=n)})),l},getFilteredArray(e){const t=[];return e.forEach((e=>{"string"==typeof e?t.push(e.slice(0,200)):e instanceof Date?t.push(e.toISOString()):"object"!=typeof e&&t.push(e)})),t},isObject:e=>"object"==typeof e&&null!==e&&!Array.isArray(e),isNumber:e=>"number"==typeof e&&!Number.isNaN(e),clearLocalStorage(){this.localStorageKeys.forEach((e=>localStorage.removeItem(e)))},getFeedbackCustomData(){var e;return{"Page Title":document.title,...null===(e=this.$store)||void 0===e?void 0:e.getters["context/surveyData"]}},getCampaignCustomData(){return{...this.getFeedbackCustomData(),...this.customVariablesClone}}},injectStyles:[n.a]},f=m,v=(l(1182),l(2)),component=Object(v.a)(f,(function(){var e=this,t=e._self._c;return t("div",[t("transition",{attrs:{name:"slide"}},[e.isButtonEnabled?t("button",{staticClass:"air3-survey-button air3-btn air3-btn-primary",attrs:{type:"button","data-ev-label":"usabilla_getfeedback_open","data-test":"up-usabilla-getfeedback",disabled:e.isUsabillaLoading},on:{click:e.onButtonClick}},[e._v("\n      "+e._s(e.$t("surv_Feedback_1"))+"\n    ")]):e._e()]),e._v(" "),t("UpCModalV2",{ref:"adblock-modal"},[t("UpCModalBody",{attrs:{"modal-title":e.$t("surv_AdBlockDetectedForFeedback_12")},scopedSlots:e._u([{key:"footer",fn:function(){return[t("div",{staticClass:"text-right",attrs:{role:"group"}},[t("button",{staticClass:"air3-btn air3-btn-primary",attrs:{type:"button","data-ev-label":"usabilla_getfeedback_adblock_modal_close"},on:{click:function(t){return e.closeModal()}}},[e._v("\n            "+e._s(e.$t("surv_GotIt_3"))+"\n          ")])])]},proxy:!0}])},[t("p",[e._v("\n        "+e._s(e.$t("surv_InOrderForUsToCollectYourFeedbackWeNeedY_2"))+"\n      ")])])],1)],1)}),[],!1,null,null,null);t.default=component.exports},320:function(e,t,l){"use strict";l.r(t);var o=l(0),n=l(353),r=l.n(n),d=l(58),c=l(322),h=l(324);const m="modal-opened";var f={name:"UpCModalV2",provide(){return{onDismiss:this.onDismiss,id:this.id}},props:{modalName:{type:String,default:""},autoOpen:{default:!1,type:Boolean},manualControl:{default:!1,type:Boolean},ariaLabelledby:{type:String,default:null},isServerRenderingEnabled:{default:null,type:Boolean},isFullscreen:{default:!1,type:Boolean},impression:{type:[String,Number],default:void 0}},emits:[m,"modal-dismiss","modal-close","modal-closed","modal-after-enter"],setup(e,t){let{emit:l}=t;const{isConsumerOpen:o,isFullscreenOpen:n,openFullscreen:r,onFullscreenOpened:d}=Object(h.a)({openEvent:m,emit:l});return{isModalOpen:o,isFullscreenOpen:n,openFullscreen:r,onFullscreenOpened:d}},data:()=>({id:Object(d.a)().toString(),upCFullscreen:null,upCTransitionIntro:null}),computed:{preventDismiss(){return this.manualControl||"true"===new URLSearchParams(window.location.search).get("preventDismiss")}},async created(){this.autoOpen&&this.isServerRenderingEnabled&&(this.upTransitionIntro=Object(o.markRaw)(Object(o.defineAsyncComponent)((()=>Promise.all([l.e(13),l.e(17),l.e(177)]).then(l.bind(null,367))))),this.upCFullscreen=Object(o.markRaw)(Object(o.defineAsyncComponent)((()=>Promise.all([l.e(13),l.e(17),l.e(622),l.e(656)]).then(l.bind(null,2229))))),await this.open())},mounted(){this.autoOpen&&setTimeout((()=>this.open()),50)},methods:{async open(){if(!this.upCFullscreen&&!this.isServerRenderingEnabled){const e=await Object(c.a)([()=>Promise.all([l.e(13),l.e(17),l.e(177)]).then(l.bind(null,367)),()=>Promise.all([l.e(13),l.e(17),l.e(622),l.e(656)]).then(l.bind(null,2229))])();[this.upTransitionIntro,this.upCFullscreen]=e.map((component=>Object(o.markRaw)(component)))}return await this.openFullscreen(),this},onDismiss(){this.isModalOpen&&(this.$emit("modal-dismiss"),this.preventDismiss||this.close())},close(){this.isModalOpen&&(this.isModalOpen=!1,this.$emit("modal-close"))},onModalAfterLeave(){this.isFullscreenOpen=!1},onFullscreenClosed(){this.upCFullscreen=null,this.$emit("modal-closed")}},injectStyles:[r.a]},v=l(2),C=Object(v.a)(f,(function(){var e=this,t=e._self._c;return e.upCFullscreen?t(e.upCFullscreen,{ref:"fullscreen",tag:"component",attrs:{open:e.isFullscreenOpen,"close-on-dismiss":!1,"data-ev-sublocation":"!modal","data-ssr":e.isServerRenderingEnabled,impression:e.isModalOpen?e.impression:null},on:{open:e.onFullscreenOpened,dismiss:e.onDismiss,close:e.onFullscreenClosed}},[t(e.upTransitionIntro,{tag:"component",attrs:{name:e.isServerRenderingEnabled&&e.isModalOpen?"":"intro"},on:{"after-leave":e.onModalAfterLeave,"after-enter":function(t){return e.$emit("modal-after-enter")}}},[e.isModalOpen?t("div",{ref:"modal",class:["air3-modal",e.modalName?"air3-modal-".concat(e.modalName):"",{"is-fullscreen":e.isFullscreen}],attrs:{role:"dialog",tabindex:"-1","aria-labelledby":e.ariaLabelledby?e.ariaLabelledby:"modal-title-".concat(e.id)}},[e._t("default")],2):e._e()])],1):e._e()}),[],!1,null,null,null);t.default=C.exports},323:function(e,t,l){"use strict";var o=l(352),n=l.n(o),r={"en-gb":l(329),en:l(330),is:l(331)},d=l(315),c=l(333),h=l(0),m={i18n:{messages:r},name:"UpCModalClose",components:{UpCIcon:d.default},inject:["onDismiss"],data:()=>({closeIcon:Object(h.markRaw)(c.default)}),injectStyles:[n.a]},f=l(2),component=Object(f.a)(m,(function(){var e=this,t=e._self._c;return t("button",{staticClass:"air3-modal-close",attrs:{type:"button","data-ev-label":"modal_close"},on:{click:e.onDismiss}},[t("span",{staticClass:"sr-only"},[e._v(e._s(e.$t("vc_CloseTheDialog_57")))]),e._v(" "),t("UpCIcon",{attrs:{icon:e.closeIcon,"data-test":"close-button"}})],1)}),[],!1,null,null,null);t.a=component.exports},324:function(e,t,l){"use strict";l.d(t,"a",(function(){return n}));var o=l(0);function n(e){let{openEvent:t,emit:l}=e;const n=Object(o.ref)(!1),r=Object(o.ref)(!1),d=Object(o.ref)(null);return{isConsumerOpen:n,isFullscreenOpen:r,openFullscreen:()=>(r.value=!0,new Promise((e=>{d.value=e}))),onFullscreenOpened:()=>{n.value=!0,l(t),d.value()}}}},325:function(e,t,l){"use strict";l.r(t);var o=l(338),n=l.n(o),r=l(28),d={name:"UpCModalFooter",computed:{shouldShowComponent(){return Object(r.d)(this.$slots)}},injectStyles:[n.a]},c=l(2),component=Object(c.a)(d,(function(){var e=this,t=e._self._c;return e.shouldShowComponent?t("div",{staticClass:"air3-modal-footer"},[e._t("default")],2):e._e()}),[],!1,null,null,null);t.default=component.exports},329:function(e){e.exports=JSON.parse("{}")},330:function(e){e.exports=JSON.parse('{"vc_CloseTheDialog_57":"Close the dialog"}')},331:function(e){e.exports=JSON.parse("{}")},332:function(e,t,l){"use strict";l.r(t);var o=l(343),n=l.n(o),r={name:"UpCModalHeader",components:{UpCModalClose:l(323).a},inject:["onDismiss","id"],props:{showCloseIcon:{default:!0,type:Boolean},modalTitle:{default:null,type:String},modalTitleClass:{default:null,type:String}},injectStyles:[n.a]},d=l(2),c=Object(d.a)(r,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"air3-modal-header"},[e._t("header-left"),e._v(" "),e._t("header",(function(){return[e._t("default",(function(){return[e.modalTitle?t("h2",{class:["air3-modal-title",e.modalTitleClass],attrs:{id:"modal-title-".concat(e.id)}},[e._v("\n        "+e._s(e.modalTitle)+"\n      ")]):e._e()]}))]})),e._v(" "),e.showCloseIcon?t("UpCModalClose"):e._e()],2)}),[],!1,null,null,null).exports,h=l(325),m=l(380),f=l.n(m),v=l(338),C=l.n(v),y=l(28),_={name:"UpCModalBody",components:{UpCModalHeader:c,UpCModalFooter:h.default},inject:{id:{from:"id",default:""},onDismiss:{from:"onDismiss",default:()=>{}},hideModalHeader:{from:"hideModalHeader",default:!1}},props:{showCloseIcon:{default:!0,type:Boolean},modalTitle:{default:null,type:String},modalTitleClass:{default:null,type:String}},methods:{showHeader(){return(!!this.$slots.header||!!this.$slots.headerLeft||!!this.modalTitle||this.showCloseIcon)&&!this.hideModalHeader},showFooter(){return y.a?!!this.$slots.footer:!!this.$scopedSlots.footer}},injectStyles:[f.a,n.a,C.a]},k=Object(d.a)(_,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"air3-modal-content"},[e.showHeader()?t("UpCModalHeader",{attrs:{"modal-title":e.modalTitle,"modal-title-class":e.modalTitleClass,"show-close-icon":e.showCloseIcon},scopedSlots:e._u([{key:"header-left",fn:function(){return[e._t("header-left")]},proxy:!0},{key:"header",fn:function(){return[e._t("header")]},proxy:!0}],null,!0)}):e._e(),e._v(" "),t("div",{staticClass:"air3-modal-body",attrs:{scrollable:""}},[e._t("default")],2),e._v(" "),e.showFooter()?t("UpCModalFooter",[e._t("footer")],2):e._e()],1)}),[],!1,null,null,null);t.default=k.exports},743:function(e,t,l){var content=l(1183);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,l(6).default)("0f3161fe",content,!0,{sourceMap:!1})}}]);
//# sourceMappingURL=https://upwork-usw2-staging-assets-jsmaps.s3.us-west-2.amazonaws.com/FindWorkHomeNuxt/usabilla-getfeedback-IXzyi.ec6449ad.js.map